/*
		 * Escribe una función que reciba dos palabras (String) y retorne
		 * verdadero o falso (Bool) según sean o no anagramas.
		 * - Un Anagrama consiste en formar una palabra reordenando TODAS
		 *   las letras de otra palabra inicial.
		 * - NO hace falta comprobar que ambas palabras existan.
		 * - Dos palabras exactamente iguales no son anagrama.
		 */

import java.util.HashMap;

public class is_this_an_anagram {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		boolean result=check_anagram("quesoeu","esoquue");//modificar estas palabras para comprobar el funcionamiento del programa 
		System.out.println("¿Is this an anagram? "+result);		
	}
public static boolean check_anagram (String palabra1, String palabra2) {
//declaración de variables
  palabra1.toLowerCase();
  palabra2.toLoweCase();
	boolean resultado = true;
	char letter;
	HashMap<Character, Integer> palabra1var = new HashMap<>();

//comprobaciones basicas, igualdad y tamaño
	if(palabra1.equals(palabra2)) return false;
	
	if(palabra1.length() != palabra2.length()) return false;
		
//se almacena la cantidad de veces que existe cada letra en la palabra
	for(int i = 0; i<palabra1.length();i++){
	letter = palabra1.charAt(i);
		palabra1var.put(letter, palabra1var.getOrDefault(letter, 0)+1);	
	}
	for(int i = 0; i<palabra2.length();i++){
		letter = palabra2.charAt(i);
			if(palabra1var.containsKey(letter)){
				int count = palabra1var.get(letter);
				palabra1var.put(letter,count-1);
			}
			else {
				return false;
			}
		}
		for(int value: palabra1var.values()){
			if(value!=0){
				return false;
			}
		}
	
	return resultado;
}
}
